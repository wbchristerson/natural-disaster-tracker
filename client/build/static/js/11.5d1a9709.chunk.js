(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[11],{547:function(A,e,t){"use strict";t.r(e);var s=t(38),a=t(159),c=t(160),n=t(162),r=t(161),i=t(1),d=t.n(i),o=t(498),l=t(499),h=t(528),u=function(A){Object(n.a)(t,A);var e=Object(r.a)(t);function t(A){var s;Object(a.a)(this,t),s=e.call(this,A);var c=new Date;return s.recordedSeconds=c.getSeconds(),s}return Object(c.a)(t,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"my-test main-image-".concat(this.recordedSeconds%9+1),children:Object(s.jsxs)("div",{className:"card-overlay",children:[Object(s.jsx)("h1",{className:"display-3 main-top-text",children:"Disaster Reporter"}),Object(s.jsx)("p",{className:"main-bottom-text",children:"See and Write Reports about Natural Disasters Near You"}),Object(s.jsx)(h.Link,{to:"display-section",spy:!0,smooth:!0,children:Object(s.jsx)("img",{className:"chevron",src:"data:image/png;base64,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",alt:"chevron!!!!!!"})})]})})}}]),t}(d.a.Component),b=function(A){Object(n.a)(t,A);var e=Object(r.a)(t);function t(A){var s;return Object(a.a)(this,t),(s=e.call(this,A)).state={totalDisasters:0,disasterList:[],page:1,searchString:""},s.backEndHost=Object(l.m)(),s.frontEndHost=Object(l.p)(),s}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchDisasters(1)}},{key:"fetchDisasters",value:function(A){var e=this;fetch("".concat(this.backEndHost,"/api/disasters?page=").concat(A),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(A){return A.json()})).then((function(A){e.setState({totalDisasters:A.total_disasters,disasterList:A.disasters})})).catch((function(A){console.log(A)}))}},{key:"onSearchStringChange",value:function(A){this.setState({searchString:A.target.value})}},{key:"onSearchClick",value:function(){var A=this.state.searchString;""===A?(this.fetchDisasters(1),this.setState({page:1})):this.fetchDisastersWithSearch(A,1)}},{key:"fetchDisastersWithSearch",value:function(A,e){var t=this;fetch("".concat(this.backEndHost,"/api/disasters?page=").concat(e,"&query=").concat(A),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(A){return A.json()})).then((function(A){t.setState({totalDisasters:A.total_disasters,disasterList:A.disasters,page:e})})).catch((function(A){console.log(A)}))}},{key:"onSetCurrentPage",value:function(A){var e=Math.max(1,A);this.setState({page:e});var t=this.state.searchString;""===t?this.fetchDisasters(e):this.fetchDisastersWithSearch(t,e)}},{key:"render",value:function(){var A=this,e=this.state,t=e.searchString,a=e.disasterList,c=e.page,n=e.totalDisasters;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(u,{}),Object(s.jsxs)(o.J,{id:"display-section",className:"single-disaster-container",children:[Object(s.jsxs)(o.j,{className:"single-disaster-card search-box",children:[Object(s.jsx)(o.x,{className:"top-search-field",placeholder:"Search",size:"lg",value:t,onChange:this.onSearchStringChange.bind(this)}),Object(s.jsx)(o.d,{color:"primary",onClick:function(){return A.onSearchClick(1)},className:"btn btn-primary btn-block top-search-button",type:"submit",children:"Search"})]}),Object(s.jsx)(o.j,{className:"logged-in-box auth0-box logged-in add-disaster-button",children:Object(s.jsx)("a",{className:"btn btn-primary btn-lg btn-logout btn-block",href:"".concat(this.frontEndHost,"/#/add-disaster-event"),children:"Add Disaster Event"})})]}),0===a.length&&Object(s.jsx)("h3",{className:"no-search-match-text",children:"No matching disasters"}),a.map((function(e,t){var a=Object(l.o)(e);return Object(s.jsx)(o.J,{className:"single-disaster-container",children:Object(s.jsx)(o.j,{xs:"12",className:"single-disaster-card",children:Object(s.jsxs)(o.f,{children:[Object(s.jsx)(o.i,{className:"disaster-header",children:Object(s.jsxs)(o.B,{children:[Object(s.jsx)("div",{className:"card-header-actions",children:Object(s.jsx)(o.a,{className:"mr-1 float-right",color:"".concat(e.is_ongoing?"danger":"success"),children:"".concat(e.is_ongoing?"On-Going":"Not On-Going")})}),Object(s.jsxs)(o.C,{action:!0,active:!0,children:[Object(s.jsxs)("div",{className:"individual-disaster-header-block",children:[Object(s.jsx)("h2",{children:e.informal_name}),Object(s.jsx)("h2",{children:e.official_name})]}),Object(s.jsxs)("div",{className:"individual-disaster-header-block",children:[Object(s.jsx)("h6",{children:"Informal Name"}),Object(s.jsx)("h6",{children:"Official Name"})]})]})]})}),Object(s.jsxs)(o.g,{className:"disaster-card-body",children:[e.random_observer_url&&Object(s.jsx)("img",{className:"d-block w-100 set-disaster-max-height",src:e.random_witness_image,alt:"slide 1"}),e.random_comment&&Object(s.jsx)("h3",{className:"witness-quote-statement",children:'"'.concat(e.random_comment,'"')}),e.random_comment&&Object(s.jsxs)("div",{className:"witness-quote-author",children:[Object(s.jsx)("div",{className:"c-avatar",children:Object(s.jsx)("img",{src:e.random_observer_url,className:"c-avatar-img",alt:""})}),e.random_comment&&Object(s.jsx)("h5",{className:"disaster-author-text",children:e.random_observer})]}),Object(s.jsx)(o.o,{className:"disaster-details-block",children:a.map((function(A,e){return Object(s.jsxs)("div",{className:"disaster-display",children:[Object(s.jsx)(o.j,{md:"3",className:"disaster-data-text",children:Object(s.jsx)(o.z,{children:A[0]})}),Object(s.jsx)(o.j,{xs:"12",md:"9",children:Object(s.jsx)("p",{className:"disaster-data-text",children:A[1]})})]},e)}))}),Object(s.jsxs)("div",{className:"button-row disaster-button-block",children:[Object(s.jsx)("div",{className:"auth0-box",children:Object(s.jsx)("a",{className:"btn btn-primary",href:"".concat(A.frontEndHost,"/#/single-disaster-display?id=").concat(e.id),children:"View Witness Reports"})}),Object(s.jsx)("div",{className:"auth0-box",children:Object(s.jsx)("a",{className:"btn btn-primary",href:"".concat(A.frontEndHost,"/#/edit-disaster-event?id=").concat(e.id),children:"Edit Disaster"})})]})]})]})})},t)})),Object(s.jsx)(o.I,{align:"center",activePage:c,pages:Math.ceil(n/l.d),onActivePageChange:this.onSetCurrentPage.bind(this)})]})}}]),t}(d.a.Component);e.default=b}}]);
//# sourceMappingURL=11.5d1a9709.chunk.js.map