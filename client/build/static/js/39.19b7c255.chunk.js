(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[39],{625:function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"deepObjectsMerge",(function(){return r})),n.d(t,"getColor",(function(){return o})),n.d(t,"getStyle",(function(){return i})),n.d(t,"hexToRgb",(function(){return l})),n.d(t,"hexToRgba",(function(){return d})),n.d(t,"makeUid",(function(){return u})),n.d(t,"omitByKeys",(function(){return h})),n.d(t,"pickByKeys",(function(){return b})),n.d(t,"rgbToHex",(function(){return f}));var r=function e(t,n){for(var r=0,s=Object.keys(n);r<s.length;r++){var a=s[r];n[a]instanceof Object&&Object.assign(n[a],e(t[a],n[a]))}return Object.assign(t||{},n),t},s=function(){for(var e={},t=document.styleSheets,n="",r=t.length-1;r>-1;r--){for(var s=t[r].cssRules,a=s.length-1;a>-1;a--)if(".ie-custom-properties"===s[a].selectorText){n=s[a].cssText;break}if(n)break}return(n=n.substring(n.lastIndexOf("{")+1,n.lastIndexOf("}"))).split(";").forEach((function(t){if(t){var n=t.split(": ")[0],r=t.split(": ")[1];n&&r&&(e["--".concat(n.trim())]=r.trim())}})),e},a=function(){return Boolean(document.documentMode)&&document.documentMode>=10},c=function(e){return e.match(/^--.*/i)},i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;if(c(e)&&a()){var r=s();t=r[e]}else t=window.getComputedStyle(n,null).getPropertyValue(e).replace(/^\s/,"");return t},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n="--".concat(e),r=i(n,t);return r||e},l=function(e){if(void 0===e)throw new TypeError("Hex color is not defined");var t,n,r;if(!e.match(/^#(?:[0-9a-f]{3}){1,2}$/i))throw new Error("".concat(e," is not a valid hex color"));return 7===e.length?(t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16)):(t=parseInt(e.slice(1,2),16),n=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,5),16)),"rgba(".concat(t,", ").concat(n,", ").concat(r,")")},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(void 0===e)throw new TypeError("Hex color is not defined");var n,r,s,a=e.match(/^#(?:[0-9a-f]{3}){1,2}$/i);if(!a)throw new Error("".concat(e," is not a valid hex color"));return 7===e.length?(n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16)):(n=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),s=parseInt(e.slice(3,5),16)),"rgba(".concat(n,", ").concat(r,", ").concat(s,", ").concat(t/100,")")},u=function(){return"uid-"+Math.random().toString(36).substr(2)},h=function(e,t){for(var n={},r=Object.keys(e),s=0;s<r.length;s++)!t.includes(r[s])&&(n[r[s]]=e[r[s]]);return n},b=function(e,t){for(var n={},r=0;r<t.length;r++)n[t[r]]=e[t[r]];return n},f=function(e){if(void 0===e)throw new TypeError("Hex color is not defined");if("transparent"===e)return"#00000000";var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(!t)throw new Error("".concat(e," is not a valid rgb color"));var n="0".concat(parseInt(t[1],10).toString(16)),r="0".concat(parseInt(t[2],10).toString(16)),s="0".concat(parseInt(t[3],10).toString(16));return"#".concat(n.slice(-2)).concat(r.slice(-2)).concat(s.slice(-2))},j={deepObjectsMerge:r,getColor:o,getStyle:i,hexToRgb:l,hexToRgba:d,makeUid:u,omitByKeys:h,pickByKeys:b,rgbToHex:f};t.default=j}]))},696:function(e,t,n){"use strict";n.r(t);var r=n(20),s=n(161),a=n(162),c=n(165),i=n(164),o=n(1),l=n.n(o),d=n(621),u=(n(623),n(628)),h=(n(44),n(627),n(625)),b=(Object(h.getStyle)("success"),Object(h.getStyle)("info"),Object(h.getStyle)("danger"),function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var r;Object(s.a)(this,n),r=t.call(this,e);var a=new Date;return r.state={totalDisasters:0,disasterList:[],page:1,recordedSeconds:a.getSeconds(),searchString:""},r.backEndHost=Object(u.m)(),r.frontEndHost=Object(u.p)(),r}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.fetchDisasters(1)}},{key:"fetchDisasters",value:function(e){var t=this;fetch("".concat(this.backEndHost,"/api/disasters?page=").concat(e),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){t.setState({totalDisasters:e.total_disasters,disasterList:e.disasters})})).catch((function(e){console.log(e)}))}},{key:"onSearchStringChange",value:function(e){this.setState({searchString:e.target.value})}},{key:"onSearchClick",value:function(){var e=this.state.searchString;""==e?(this.fetchDisasters(1),this.setState({page:1})):this.fetchDisastersWithSearch(e,1)}},{key:"fetchDisastersWithSearch",value:function(e,t){var n=this;fetch("".concat(this.backEndHost,"/api/disasters?page=").concat(t,"&query=").concat(e),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){n.setState({totalDisasters:e.total_disasters,disasterList:e.disasters,page:t})})).catch((function(e){console.log(e)}))}},{key:"onSetCurrentPage",value:function(e){var t=Math.max(1,e);this.setState({page:t});var n=this.state.searchString;""==n?this.fetchDisasters(t):this.fetchDisastersWithSearch(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.recordedSeconds,s=t.searchString,a=t.disasterList,c=t.page,i=t.totalDisasters;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"my-test ".concat(n%3===0?"main-image-1":n%3===1?"main-image-2":"main-image-3"),children:Object(r.jsxs)("div",{className:"card-overlay",children:[Object(r.jsx)("h1",{className:"display-3 main-top-text",children:"Disaster Reporter"}),Object(r.jsx)("p",{className:"main-bottom-text",children:"See And Write Reports About Natural Disasters In Your Area"})]})}),Object(r.jsxs)("div",{className:"dashboard-search-container",children:[Object(r.jsx)(d.T,{className:"top-search-field",placeholder:"Search",size:"lg",value:s,onChange:this.onSearchStringChange.bind(this)}),Object(r.jsx)(d.f,{color:"primary",onClick:function(){return e.onSearchClick(1)},className:"btn btn-primary btn-block top-search-button",type:"submit",children:"Search"})]}),Object(r.jsx)("div",{className:"logged-in-box auth0-box logged-in add-disaster-button",children:Object(r.jsx)("a",{className:"btn btn-primary btn-lg btn-logout btn-block",href:"".concat(this.frontEndHost,"/#/add-disaster-event"),children:"Add Disaster Event"})}),0==a.length&&Object(r.jsx)("h3",{className:"no-search-match-text",children:"No matching disasters"}),a.map((function(t,n){var s=Object(u.o)(t);return Object(r.jsx)(d.xb,{children:Object(r.jsx)(d.v,{xs:"12",children:Object(r.jsxs)(d.k,{children:[Object(r.jsx)(d.o,{className:"disaster-header",children:Object(r.jsxs)(d.fb,{children:[Object(r.jsx)("div",{className:"card-header-actions",children:Object(r.jsx)(d.b,{className:"mr-1 float-right",color:"".concat(t.is_ongoing?"danger":"success"),children:"".concat(t.is_ongoing?"On-Going":"Not On-Going")})}),Object(r.jsxs)(d.gb,{action:!0,active:!0,children:[Object(r.jsxs)("div",{className:"individual-disaster-header-block",children:[Object(r.jsx)("h2",{children:t.informal_name}),Object(r.jsx)("h2",{children:t.official_name})]}),Object(r.jsxs)("div",{className:"individual-disaster-header-block",children:[Object(r.jsx)("h6",{children:"Informal Name"}),Object(r.jsx)("h6",{children:"Official Name"})]})]})]})}),Object(r.jsxs)(d.l,{className:"disaster-card-body",children:[t.random_observer_url&&Object(r.jsx)("img",{className:"d-block w-100 set-disaster-max-height",src:t.random_witness_image,alt:"slide 1"}),t.random_comment&&Object(r.jsx)("h3",{className:"witness-quote-statement",children:'"'.concat(t.random_comment,'"')}),t.random_comment&&Object(r.jsx)("h5",{className:"witness-quote-author",children:"- ".concat(t.random_observer)}),Object(r.jsx)(d.K,{className:"disaster-details-block",children:s.map((function(e){return Object(r.jsxs)("div",{className:"disaster-display",children:[Object(r.jsx)(d.v,{md:"3",className:"disaster-data-text",children:Object(r.jsx)(d.db,{children:e[0]})}),Object(r.jsx)(d.v,{xs:"12",md:"9",children:Object(r.jsx)("p",{className:"disaster-data-text",children:e[1]})})]})}))}),Object(r.jsxs)("div",{className:"button-row disaster-button-block",children:[Object(r.jsx)("div",{className:"auth0-box",children:Object(r.jsx)("a",{className:"btn btn-primary",href:"".concat(e.frontEndHost,"/#/single-disaster-display?id=").concat(t.id),children:"View Witness Reports"})}),Object(r.jsx)("div",{className:"auth0-box",children:Object(r.jsx)("a",{className:"btn btn-primary",href:"".concat(e.frontEndHost,"/#/edit-disaster-event?id=").concat(t.id),children:"Edit Disaster"})})]})]})]})})},n)})),Object(r.jsx)(d.tb,{align:"center",activePage:c,pages:Math.ceil(i/u.d),onActivePageChange:this.onSetCurrentPage.bind(this)})]})}}]),n}(l.a.Component));t.default=b}}]);
//# sourceMappingURL=39.19b7c255.chunk.js.map