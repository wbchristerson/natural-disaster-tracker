(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[11],{622:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(624);function r(t,e){if(t){if("string"===typeof t)return Object(i.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(t,e):void 0}}},623:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(622);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==o.return||o.return()}finally{if(r)throw a}}return n}}(t,e)||Object(i.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},624:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},627:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"i",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return b})),n.d(e,"u",(function(){return m})),n.d(e,"s",(function(){return j})),n.d(e,"q",(function(){return g})),n.d(e,"t",(function(){return p})),n.d(e,"r",(function(){return O})),n.d(e,"l",(function(){return v})),n.d(e,"n",(function(){return k})),n.d(e,"m",(function(){return S})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return C})),n.d(e,"o",(function(){return N})),n.d(e,"p",(function(){return w}));var i=n(623),r=n(622);var a="user_access_token",s="No data available from witness reports",o="observer_database_id",c=["Please select","Earthquake","Flood","Wildfire","Tornado","Hurricane","Tsunami","Landslide","Avalanche","Volcano","Other"],l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function u(t){var e,n=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}(document.cookie.split(";"));try{for(n.s();!(e=n.n()).done;){var i=e.value.split("=");if((i[0]+"").trim()===t)return i[1]}}catch(a){n.e(a)}finally{n.f()}return""}function d(){return"https://sample-will.herokuapp.com"}function h(){return"https://sample-will.herokuapp.com"}function f(t){return t||s}function b(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];return Math.abs(n)+"\xb0 "+(n>=0?"N":"S")+", "+(Math.abs(r)+"\xb0 "+(r>=0?"E":"W"))}function m(t){if(!/^\s*\d?\d:\d\d(:\d\d)?\s*$/.test(t))return!1;t.trim();var e=parseInt(":"==t.charAt(1)?t.slice(0,1):t.slice(0,2)),n=parseInt(":"==t.charAt(1)?t.slice(2,4):t.slice(3,5)),i=t.length>5?parseInt(":"==t.charAt(1)?t.slice(5,7):t.slice(6,8)):null;return 0<=e&&e<24&&0<=n&&n<60&&0<=i&&i<60}function j(t){return/^\s*\d+\s*$/.test(t)}function g(t){if(!/^\s*-?0*\d\d?\d?(\.\d*)?\s*$/.test(t))return!1;var e=parseInt(t);return-180<=e&&e<=180}function p(t,e,n){if(!/^\s*\d+\s*$/.test(t))return!1;var i=parseInt(t);return e<=i&&i<=n}function O(t){return/^\s*.*(\.jpg|\.jpeg|\.png)\s*$/.test(t)}function v(t){var e=t.trim();return 4==e.length?"0"+e+":00":5==e.length?e+":00":e}function y(t){var e=t.split(" "),n=Object(i.a)(e,6),r=(n[0],n[1]),a=n[2],s=n[3],o=n[4],c=(n[5],o.split(":")),u=Object(i.a)(c,3),d=u[0],h=u[1],f=u[2],b=(l.indexOf(a)+1).toString()+"/"+r+"/"+s;return new Date(b+" "+(d+":"+h+":"+f+" UTC"))}function x(t,e){for(var n=t.toString(),i=n,r=0;r<e-n.length;r++)i="0"+i;return i}function k(t){var e=y(t);return x(e.getHours(),2)+":"+x(e.getMinutes(),2)+":"+x(e.getSeconds(),2)}function S(t){var e=y(t),n=x(e.getMonth()+1,2),i=x(e.getDate(),2);return x(e.getFullYear(),2)+"-"+n+"-"+i}function T(t,e){return"A failure occurred. The ability to ".concat(t," requires admin \n    privileges and it looks like those have not been granted to you. If you \n    would like admin privileges, please ").concat(401==e?"create an account by signing up (for free!) and":""," email me at \n    wbchristerson@gmail.com with your username.")}function C(t){var e=u(a);return"Please note that the ability to ".concat(t," requires admin privileges. If you do \n    not have admin privileges and would like them, please ").concat(e?"":"create an account by signing up (for free!) and"," email me at wbchristerson@gmail.com with\n    your username.")}function N(t){return"Note that you must be logged-in to ".concat(t,". If you do not \n    have an account, you can create one for free by signing up.")}function w(t){return"A failure occurred. You must be logged-in to ".concat(t,". You can\n     create an account (for free!) by signing up.")}},687:function(t,e,n){"use strict";n.r(e);var i=n(20),r=n(162),a=n(163),s=n(165),o=n(164),c=n(1),l=n.n(c),u=n(620),d=n(625),h=n(627),f=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).state={informalName:"",officialName:"",disasterType:"",isOngoing:!1,latitude:"",longitude:"",isModalOpen:!1,authorizationFailure:null},i.backEndHost=Object(h.i)(),i.frontEndHost=Object(h.k)(),i}return Object(a.a)(n,[{key:"onInformalNameChange",value:function(t){this.setState({informalName:t.target.value})}},{key:"onOfficialNameChange",value:function(t){this.setState({officialName:t.target.value})}},{key:"onDisasterTypeChange",value:function(t){this.setState({disasterType:t.target.value})}},{key:"onIsOngoingChange",value:function(t){this.setState({isOngoing:!this.state.isOngoing})}},{key:"onLatitudeChange",value:function(t){/^-?\d*\.?\d*$/.test(t.target.value)&&parseFloat(t.target.value)>=-180&&parseFloat(t.target.value)<=180?this.setState({latitude:t.target.value}):""==t.target.value?this.setState({latitude:""}):"-"==t.target.value&&this.setState({latitude:"-"})}},{key:"onLongitudeChange",value:function(t){/^-?\d*\.?\d*$/.test(t.target.value)&&parseFloat(t.target.value)>=-180&&parseFloat(t.target.value)<=180?this.setState({longitude:t.target.value}):""==t.target.value?this.setState({longitude:""}):"-"==t.target.value&&this.setState({longitude:"-"})}},{key:"onSubmit",value:function(){var t=this;fetch("".concat(this.backEndHost,"/api/disasters"),{method:"POST",body:JSON.stringify({informal_name:this.state.informalName,official_name:this.state.officialName,disaster_type:this.state.disasterType,is_ongoing:this.state.isOngoing,location_latitude:this.state.latitude,location_longitude:this.state.longitude}),contentType:"application/json",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Object(h.j)(h.d)}}).then((function(e){(401==e.status&&"UNAUTHORIZED"==e.statusText||403==e.status&&"FORBIDDEN"==e.statusText)&&t.setState({isModalOpen:!0,authorizationFailure:e.status}),console.log(e)})).catch((function(t){return console.log("error!!!: ",t)}))}},{key:"resetDisasterForm",value:function(){this.setState({informalName:"",officialName:"",disasterType:"",isOngoing:!1,latitude:"",longitude:""})}},{key:"onModalClose",value:function(){this.setState({isModalOpen:!1,authorizationFailure:null})}},{key:"render",value:function(){var t=this,e=this.state,n=e.isModalOpen,r=e.authorizationFailure;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u.xb,{children:Object(i.jsx)(u.v,{xs:"12",children:Object(i.jsxs)(u.k,{children:[Object(i.jsxs)(u.o,{children:[Object(i.jsx)("h4",{children:"Add Disaster Listing"}),Object(i.jsx)("div",{className:"top-information-text",children:Object(h.h)("add disaster listings")})]}),Object(i.jsx)(u.l,{children:Object(i.jsxs)(u.K,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(i.jsxs)(u.L,{row:!0,children:[Object(i.jsx)(u.v,{md:"3",children:Object(i.jsx)(u.db,{htmlFor:"text-input",children:"Informal Name"})}),Object(i.jsxs)(u.v,{xs:"12",md:"9",children:[Object(i.jsx)(u.T,{id:"text-input",name:"text-input",placeholder:"Text",value:this.state.informalName,onChange:this.onInformalNameChange.bind(this)}),Object(i.jsx)(u.M,{children:"The colloquial name of the disaster"})]})]}),Object(i.jsxs)(u.L,{row:!0,children:[Object(i.jsx)(u.v,{md:"3",children:Object(i.jsx)(u.db,{htmlFor:"text-input",children:"Official Name"})}),Object(i.jsxs)(u.v,{xs:"12",md:"9",children:[Object(i.jsx)(u.T,{id:"text-input",name:"text-input",placeholder:"Text",value:this.state.officialName,onChange:this.onOfficialNameChange.bind(this)}),Object(i.jsx)(u.M,{children:"The identifying name of the disaster"})]})]}),Object(i.jsxs)(u.L,{row:!0,children:[Object(i.jsx)(u.v,{md:"3",children:Object(i.jsx)(u.db,{htmlFor:"select",children:"Disaster Type"})}),Object(i.jsx)(u.v,{xs:"12",md:"9",children:Object(i.jsx)(u.yb,{custom:!0,name:"select",id:"select",value:this.state.disasterType,onChange:this.onDisasterTypeChange.bind(this),children:h.b.map((function(t){return Object(i.jsx)("option",{value:t,children:t},t)}))})})]}),Object(i.jsxs)(u.L,{row:!0,children:[Object(i.jsx)(u.v,{tag:"label",sm:"3",className:"col-form-label",children:"Disaster Ongoing"}),Object(i.jsx)(u.v,{sm:"1",children:Object(i.jsx)(u.Ib,{id:"add-disaster-ongoing-switch",className:"mr-1",color:"danger",shape:"pill",checked:this.state.isOngoing,onChange:this.onIsOngoingChange.bind(this)})}),Object(i.jsx)(u.v,{sm:"3",children:Object(i.jsx)(u.db,{htmlFor:"add-disaster-ongoing-switch",children:this.state.isOngoing?"Yes":"No"})})]}),Object(i.jsxs)(u.L,{row:!0,children:[Object(i.jsx)(u.v,{md:"3",children:Object(i.jsx)(u.db,{htmlFor:"email-input",children:"Latitude"})}),Object(i.jsxs)(u.v,{xs:"12",md:"9",children:[Object(i.jsx)(u.T,{type:"email",id:"email-input",name:"email-input",placeholder:"Disaster Latitude",value:this.state.latitude,onChange:this.onLatitudeChange.bind(this)}),Object(i.jsx)(u.M,{className:"help-block",children:"The latitude of the disaster"})]})]}),Object(i.jsxs)(u.L,{row:!0,children:[Object(i.jsx)(u.v,{md:"3",children:Object(i.jsx)(u.db,{htmlFor:"email-input",children:"Longitude"})}),Object(i.jsxs)(u.v,{xs:"12",md:"9",children:[Object(i.jsx)(u.T,{type:"email",id:"email-input",name:"email-input",placeholder:"Disaster Latitude",value:this.state.longitude,onChange:this.onLongitudeChange.bind(this)}),Object(i.jsx)(u.M,{className:"help-block",children:"The longitude of the disaster"})]})]})]})}),Object(i.jsxs)(u.m,{children:[Object(i.jsxs)(u.f,{type:"submit",size:"sm",color:"primary",onClick:this.onSubmit.bind(this),children:[Object(i.jsx)(d.a,{name:"cil-scrubber"})," Submit"]}),Object(i.jsxs)(u.f,{type:"reset",size:"sm",color:"danger",onClick:this.resetDisasterForm.bind(this),children:[Object(i.jsx)(d.a,{name:"cil-ban"})," Reset"]})]})]})})}),Object(i.jsxs)(u.hb,{show:n,onClose:this.onModalClose.bind(this),children:[Object(i.jsx)(u.kb,{closeButton:!0,children:Object(i.jsx)(u.lb,{children:"Failure To Create Disaster Listing"})}),Object(i.jsx)(u.ib,{children:Object(h.g)("add disaster listings",r)}),Object(i.jsx)(u.jb,{children:Object(i.jsx)(u.f,{color:"secondary",onClick:function(){return t.onModalClose()},children:"OK"})})]})]})}}]),n}(l.a.Component);e.default=f}}]);
//# sourceMappingURL=11.3c5656ec.chunk.js.map