(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[39],{625:function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(c){if(t[c])return t[c].exports;var s=t[c]={i:c,l:!1,exports:{}};return e[c].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(c,s,function(t){return e[t]}.bind(null,s));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"deepObjectsMerge",(function(){return c})),n.d(t,"getColor",(function(){return o})),n.d(t,"getStyle",(function(){return i})),n.d(t,"hexToRgb",(function(){return l})),n.d(t,"hexToRgba",(function(){return d})),n.d(t,"makeUid",(function(){return u})),n.d(t,"omitByKeys",(function(){return h})),n.d(t,"pickByKeys",(function(){return b})),n.d(t,"rgbToHex",(function(){return j}));var c=function e(t,n){for(var c=0,s=Object.keys(n);c<s.length;c++){var r=s[c];n[r]instanceof Object&&Object.assign(n[r],e(t[r],n[r]))}return Object.assign(t||{},n),t},s=function(){for(var e={},t=document.styleSheets,n="",c=t.length-1;c>-1;c--){for(var s=t[c].cssRules,r=s.length-1;r>-1;r--)if(".ie-custom-properties"===s[r].selectorText){n=s[r].cssText;break}if(n)break}return(n=n.substring(n.lastIndexOf("{")+1,n.lastIndexOf("}"))).split(";").forEach((function(t){if(t){var n=t.split(": ")[0],c=t.split(": ")[1];n&&c&&(e["--".concat(n.trim())]=c.trim())}})),e},r=function(){return Boolean(document.documentMode)&&document.documentMode>=10},a=function(e){return e.match(/^--.*/i)},i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;if(a(e)&&r()){var c=s();t=c[e]}else t=window.getComputedStyle(n,null).getPropertyValue(e).replace(/^\s/,"");return t},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n="--".concat(e),c=i(n,t);return c||e},l=function(e){if(void 0===e)throw new TypeError("Hex color is not defined");var t,n,c;if(!e.match(/^#(?:[0-9a-f]{3}){1,2}$/i))throw new Error("".concat(e," is not a valid hex color"));return 7===e.length?(t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),c=parseInt(e.slice(5,7),16)):(t=parseInt(e.slice(1,2),16),n=parseInt(e.slice(2,3),16),c=parseInt(e.slice(3,5),16)),"rgba(".concat(t,", ").concat(n,", ").concat(c,")")},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(void 0===e)throw new TypeError("Hex color is not defined");var n,c,s,r=e.match(/^#(?:[0-9a-f]{3}){1,2}$/i);if(!r)throw new Error("".concat(e," is not a valid hex color"));return 7===e.length?(n=parseInt(e.slice(1,3),16),c=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16)):(n=parseInt(e.slice(1,2),16),c=parseInt(e.slice(2,3),16),s=parseInt(e.slice(3,5),16)),"rgba(".concat(n,", ").concat(c,", ").concat(s,", ").concat(t/100,")")},u=function(){return"uid-"+Math.random().toString(36).substr(2)},h=function(e,t){for(var n={},c=Object.keys(e),s=0;s<c.length;s++)!t.includes(c[s])&&(n[c[s]]=e[c[s]]);return n},b=function(e,t){for(var n={},c=0;c<t.length;c++)n[t[c]]=e[t[c]];return n},j=function(e){if(void 0===e)throw new TypeError("Hex color is not defined");if("transparent"===e)return"#00000000";var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(!t)throw new Error("".concat(e," is not a valid rgb color"));var n="0".concat(parseInt(t[1],10).toString(16)),c="0".concat(parseInt(t[2],10).toString(16)),s="0".concat(parseInt(t[3],10).toString(16));return"#".concat(n.slice(-2)).concat(c.slice(-2)).concat(s.slice(-2))},f={deepObjectsMerge:c,getColor:o,getStyle:i,hexToRgb:l,hexToRgba:d,makeUid:u,omitByKeys:h,pickByKeys:b,rgbToHex:j};t.default=f}]))},695:function(e,t,n){"use strict";n.r(t);var c=n(20),s=n(162),r=n(163),a=n(165),i=n(164),o=n(1),l=n.n(o),d=n(621),u=n(623),h=n(628),b=(n(44),n(627),n(625)),j=(Object(b.getStyle)("success"),Object(b.getStyle)("info"),Object(b.getStyle)("danger"),function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var c;Object(s.a)(this,n),c=t.call(this,e);var r=new Date;return c.state={totalDisasters:0,disasterList:[],page:1,recordedSeconds:r.getSeconds(),searchString:""},c.backEndHost=Object(h.l)(),c.frontEndHost=Object(h.n)(),c}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.fetchDisasters(1)}},{key:"fetchDisasters",value:function(e){var t=this;fetch("".concat(this.backEndHost,"/api/disasters?page=").concat(e),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),t.setState({totalDisasters:e.total_disasters,disasterList:e.disasters})})).catch((function(e){console.log(e)}))}},{key:"onSearchStringChange",value:function(e){this.setState({searchString:e.target.value})}},{key:"onSearchClick",value:function(e){var t=this,n=this.state.searchString;""==n?(this.fetchDisasters(1),this.setState({page:e})):fetch("".concat(this.backEndHost,"/api/disasters?page=").concat(e,"&query=").concat(n),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(n){t.setState({totalDisasters:n.total_disasters,disasterList:n.disasters,page:e})})).catch((function(e){console.log(e)}))}},{key:"onSetCurrentPage",value:function(e){console.log("\n\n\ncurrent page: ",Math.max(1,e)),this.setState({page:Math.max(1,e)}),this.onSearchClick(Math.max(1,e))}},{key:"render",value:function(){var e=this,t=this.state,n=t.recordedSeconds,s=t.searchString,r=t.disasterList,a=t.page,i=t.totalDisasters;return console.log("total disasters: ",i),console.log("page size: ",h.d),console.log("num pages: ",Math.ceil(i/h.d)),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"my-test ".concat(n%3===0?"main-image-1":n%3===1?"main-image-2":"main-image-3"),children:Object(c.jsxs)("div",{className:"card-overlay",children:[Object(c.jsx)("h1",{className:"display-3 main-top-text",children:"Disaster Reporter"}),Object(c.jsx)("p",{className:"main-bottom-text",children:"See And Write Reports About Natural Disasters In Your Area"})]})}),Object(c.jsxs)("div",{className:"dashboard-search-container",children:[Object(c.jsx)(d.T,{className:"top-search-field",placeholder:"Search",size:"lg",value:s,onChange:this.onSearchStringChange.bind(this)}),Object(c.jsx)(d.f,{color:"primary",onClick:function(){return e.onSearchClick(1)},className:"btn btn-primary btn-block top-search-button",type:"submit",children:"Search"})]}),Object(c.jsx)("div",{className:"logged-in-box auth0-box logged-in add-disaster-button",children:Object(c.jsx)("a",{className:"btn btn-primary btn-lg btn-logout btn-block",href:"".concat(this.frontEndHost,"/#/add-disaster-event"),children:"Add Disaster Event"})}),0==r.length&&Object(c.jsx)("h3",{className:"no-search-match-text",children:"No matching disasters"}),r.map((function(t,n){return Object(c.jsx)(d.xb,{children:Object(c.jsx)(d.v,{xs:"12",sm:"12",md:"12",children:Object(c.jsxs)(d.k,{children:[Object(c.jsxs)(d.o,{children:["".concat(t.informal_name," - Official Name: ").concat(t.official_name),Object(c.jsx)("div",{className:"card-header-actions",children:Object(c.jsx)(d.b,{className:"mr-1 float-right",color:"".concat(t.is_ongoing?"danger":"success"),children:"".concat(t.is_ongoing?"On-Going":"Not On-Going")})})]}),t.random_observer_url&&Object(c.jsx)("img",{className:"d-block w-100 set-disaster-max-height",src:t.random_witness_image,alt:"slide 1"}),Object(c.jsxs)(d.l,{children:[t.random_observer&&Object(c.jsx)("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table",children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-center",children:Object(c.jsxs)("div",{className:"c-avatar",children:[Object(c.jsx)("img",{src:t.random_observer_url,className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),Object(c.jsx)("span",{className:"c-avatar-status bg-success"})]})}),Object(c.jsxs)("td",{children:[Object(c.jsx)("div",{children:t.random_observer}),Object(c.jsxs)("div",{className:"small text-muted",children:[Object(c.jsx)("span",{children:"New"})," | Registered: Jan 1, 2015"]})]}),Object(c.jsx)("td",{className:"text-center",children:Object(c.jsx)(u.a,{height:25,name:"cif-us",title:"us",id:"us"})}),Object(c.jsxs)("td",{children:[Object(c.jsxs)("div",{className:"clearfix",children:[Object(c.jsx)("div",{className:"float-left",children:Object(c.jsx)("strong",{children:"50%"})}),Object(c.jsx)("div",{className:"float-right",children:Object(c.jsx)("small",{className:"text-muted",children:"Jun 11, 2015 - Jul 10, 2015"})})]}),Object(c.jsx)(d.vb,{className:"progress-xs",color:"success",value:"50"})]}),Object(c.jsx)("td",{className:"text-center",children:Object(c.jsx)(u.a,{height:25,name:"cib-cc-mastercard"})}),Object(c.jsxs)("td",{children:[Object(c.jsx)("div",{className:"small text-muted",children:"Last login"}),Object(c.jsx)("strong",{children:"10 sec ago"})]})]})})}),t.random_comment&&Object(c.jsx)("h5",{children:'"'.concat(t.random_comment,'"')}),t.random_observer&&Object(c.jsx)("h6",{children:"Observer: ".concat(t.random_observer)}),t.average_severity&&Object(c.jsx)("h6",{children:"Average severity: ".concat(t.average_severity)}),t.disaster_type&&Object(c.jsx)("h6",{children:"Disaster type: ".concat(t.disaster_type)}),t.first_observance&&Object(c.jsx)("h6",{children:"First observance: ".concat(t.first_observance)}),t.last_observance&&Object(c.jsx)("h6",{children:"Last observance: ".concat(t.last_observance)}),Object(c.jsx)("h6",{children:"id: ".concat(t.id)}),Object(c.jsx)("h6",{children:"Location: ".concat(Object(h.i)(t.location))}),Object(c.jsx)("h6",{children:"Number Of Reports: ".concat(t.num_reports)}),t.people_affected&&Object(c.jsx)("h6",{children:"People affected: ".concat(t.people_affected)}),Object(c.jsxs)("div",{className:"button-row",children:[Object(c.jsx)("div",{className:"auth0-box",children:Object(c.jsx)("a",{className:"btn btn-primary",href:"".concat(e.frontEndHost,"/#/single-disaster-display?id=").concat(t.id),children:"View Witness Reports"})}),Object(c.jsx)("div",{className:"auth0-box",children:Object(c.jsx)("a",{className:"btn btn-primary",href:"".concat(e.frontEndHost,"/#/edit-disaster-event?id=").concat(t.id),children:"Edit Disaster"})})]})]})]})})},n)})),Object(c.jsx)(d.tb,{align:"center",activePage:a,pages:Math.ceil(i/h.d),onActivePageChange:this.onSetCurrentPage.bind(this)})]})}}]),n}(l.a.Component));t.default=j}}]);
//# sourceMappingURL=39.8c756cae.chunk.js.map